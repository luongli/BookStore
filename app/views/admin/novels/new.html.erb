<div class="container">
  <% provide(:title, "New book") %>
  <% provide(:button_text, 'Submit') %>
  <h2>Add new novel</h2>
  <%= form_for(@novel, url: admin_novels_path) do |f| %>
      <%= render partial: 'shared/err', locals: {err: @novel} %>
      <div class="form-group">
        <%= f.label :title %>
        <%= f.text_field :title, class: 'form-control' %>
      </div>

      <div class="form-group">
        <label>Author</label>
        <br><input type="button" id="add-author-btn" class="btn btn-success" value="Add Author"
                   data-toggle="modal" data-target="#add-author-modal">
      </div>

      <div class="form-group">
        <label>Category</label>
        <br><input type="button" class="btn btn-success" value="Add Category"
                   data-toggle="modal" data-target="#add-category-modal">
      </div>

      <div class="form-group">
      <%= f.label :description %>
      <%= f.text_area :description, class: 'form-control' %>
      </div>

      <%= f.submit yield(:button_text), class: "btn btn-primary" %>
  <% end %>
</div>


<!-- Author Modal -->
<div id="add-author-modal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Add new author</h4>
      </div>
      <div class="modal-body">
        <%= form_for @author, remote: true, url: admin_authors_path do |f| %>
          <div class="form-group">
            <%= f.label :name%>
            <%= f.text_field :name, class: 'form-control' %>
          </div>
          <div class="form-group">
            <%= f.label :bio %>
            <%= f.text_area :bio, class: 'form-control' %>
          </div>
            <div class="error-container">

            </div>
          <%= f.submit yield(:button_text), class: "btn btn-primary" %>
        <% end %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>

<!-- Category Modal -->
<div id="add-category-modal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">New category</h4>
      </div>
      <div class="modal-body">

        <%= form_for @category, remote: true do |f| %>
            <div class="form-group">
              <%= f.label :title %>
              <%= f.text_field :title, class: 'form-control' %>
            </div>
            <%= f.submit yield(:button_text), class: "btn btn-primary" %>
        <% end %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Add</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>